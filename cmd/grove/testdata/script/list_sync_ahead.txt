# Test: grove list shows ahead indicator when local is ahead of upstream
setup_workspace

# Create a bare remote to track against
cd $WORK
mkdir remote-repo
exec git init --bare remote-repo
cd workspace/main
exec git remote add upstream file://$WORK/remote-repo
exec git push -u upstream main

# Create local commit ahead of upstream
exec sh -c 'echo "ahead" > ahead.txt'
exec git add ahead.txt
exec git commit -m 'ahead commit'
exec grove list --plain
stdout '\+1'
stderr 'Gathering worktree status'
