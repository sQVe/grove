# Test config integration with git config

# Test global set/get operations
exec grove config set --global grove.plain true
exec grove config get --global grove.plain
stdout '^true$'

exec grove config set --global grove.debug false
exec grove config get --global grove.debug
stdout '^false$'

# Test list operation shows grove.* settings
exec grove config list --global
stdout 'grove.plain=true'
stdout 'grove.debug=false'

# Test unset removes config
exec grove config unset --global grove.debug
! exec grove config get --global grove.debug
stderr 'not found'

# Test exit codes and error messages
! exec grove config get --global grove.missing
stderr 'not found'

# Test boolean values accepted
exec grove config set --global grove.plain true
exec grove config set --global grove.debug false
exec grove config set --global grove.plain yes
exec grove config set --global grove.debug no
exec grove config set --global grove.plain 1
exec grove config set --global grove.debug 0

# Clean up
exec grove config unset --global grove.plain
exec grove config unset --global grove.debug
