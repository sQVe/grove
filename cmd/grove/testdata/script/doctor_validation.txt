# grove doctor validation tests
# Tests doctor command argument parsing and validation

## Help output

exec grove doctor --help
stdout 'Diagnose workspace'
stdout 'Usage:'
stdout 'grove doctor'
stdout '\-\-fix'
stdout '\-\-json'
stdout '\-\-perf'
! stderr .

## Argument validation

# No unknown subcommands
! exec grove doctor extra-arg
stderr 'âœ— unknown command "extra-arg"'

## Workspace validation

# Outside workspace - doctor still works for dependency checking
mkdir $WORK/outside
cd $WORK/outside
exec grove doctor
