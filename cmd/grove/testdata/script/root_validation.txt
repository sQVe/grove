# grove root validation tests
# Tests root command help output and global flag validation

## Help output

# Test grove shows help with --help flag
exec grove --help
stdout 'Manage Git worktrees as easily as switching branches'
stdout 'Available Commands'
! stderr .

# No arguments shows help
exec grove
stdout 'Manage Git worktrees as easily as switching branches'
stdout 'Available Commands'
stdout 'completion'
stdout 'help'
stdout 'init'
stdout 'Flags'
stdout '--debug'
stdout '--help'
stdout '--plain'
! stderr .

## Argument validation

# Unknown command shows error
! exec grove invalid
stderr '✗ unknown command "invalid" for "grove"'

# Unknown flag shows error
! exec grove --invalid
stderr '✗ unknown flag: --invalid'

## Global flags

# --debug flag is recognized
exec grove --debug --help
stdout 'Available Commands'
! stderr .

# --debug has no shorthand
! exec grove -d --help
stderr 'unknown shorthand flag'
