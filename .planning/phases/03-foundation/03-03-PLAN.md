---
phase: 03-foundation
plan: 03
type: tdd
wave: 1
depends_on: []
files_modified:
    - internal/logger/format.go
    - internal/logger/format_test.go
autonomous: true
gap_closure: true

must_haves:
    truths:
        - "StepFormat(1, 3, 'action') returns 'Step 1/3: action'"
        - 'StepFormat works with any step/total combination'
    artifacts:
        - path: 'internal/logger/format.go'
          provides: 'StepFormat helper function'
          exports: ['StepFormat']
        - path: 'internal/logger/format_test.go'
          provides: 'Tests for StepFormat'
          contains: 'TestStepFormat'
    key_links:
        - from: 'internal/logger/format.go'
          to: 'spinner.go'
          via: 'Used with spinner.Update(StepFormat(...))'
          pattern: 'Step %d/%d: %s'
---

<objective>
Add StepFormat helper to logger package for consistent multi-step progress messages.

Purpose: Closes SPIN-03 gap - multi-step operations need "Step N/M: action" format.
Output: `StepFormat(step, total, message)` function returning formatted string.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03-foundation/03-VERIFICATION.md
@internal/logger/spinner.go
</context>

<feature>
  <name>StepFormat helper function</name>
  <files>internal/logger/format.go, internal/logger/format_test.go</files>
  <behavior>
    StepFormat(step int, total int, message string) -> string

    Cases:
    - StepFormat(1, 3, "Fetching remote") -> "Step 1/3: Fetching remote"
    - StepFormat(2, 4, "Creating worktree") -> "Step 2/4: Creating worktree"
    - StepFormat(10, 10, "Done") -> "Step 10/10: Done"

  </behavior>
  <implementation>
    Simple fmt.Sprintf with "Step %d/%d: %s" format.
    No validation needed - caller controls step/total values.
  </implementation>
</feature>

<verification>
```bash
make test
```
Tests pass, including new StepFormat tests.
</verification>

<success_criteria>

- StepFormat function exists and is exported
- Tests cover basic cases (1/3, 2/4, edge cases)
- `make test` passes
- `make lint` passes
  </success_criteria>

<output>
After completion, create `.planning/phases/03-foundation/03-03-SUMMARY.md`
</output>
